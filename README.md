# Convert Images

Консольный инструмент для пакетной конвертации изображений в **JPEG** с ограничением размера и параллельной обработкой.

## Возможности

* Рекурсивно обходит указанную папку.
* Поддерживаемые форматы входа:

  * `.jpg`, `.jpeg`
  * `.png`
  * `.webp`
  * `.tif`, `.tiff`
  * `.bmp`
* Конвертирует все изображения в **JPEG** с учётом EXIF-ориентации.
* Вписывает изображение в квадрат `2990 × 2990` пикселей (пропорции сохраняются).
* Сжимает до тех пор, пока размер файла не станет ≤ **10 MB**.
* Сохраняет структуру папок в выходной директории.
* Параллельная обработка через `ProcessPoolExecutor`.
* Количество воркеров настраивается в коде (константа `WORKERS`).
* Логи вида `[OK]` / `[ERR]` по каждому обработанному файлу.

## Установка

### 1. Клонировать проект

```bash
git clone https://github.com/faiver-90/converter_photo.git
cd your-repo
```

### 2. Установить Poetry (если ещё не установлен)

```bash
pip install poetry
```

или

```bash
curl -sSL https://install.python-poetry.org | python3 -
```

### 3. Установить зависимости проекта

```bash
poetry install
```

## Запуск

```bash
poetry run python convert_images.py --input "E:\media"
```

### Аргументы

* `--input` — путь к папке с изображениями или прописать в .env

Все результаты сохраняются в подпапку `convert_image` рядом со скриптом.

